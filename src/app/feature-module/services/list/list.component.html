<!--
feedback-list html file is used to show data

@author TuLG
@version 1.0
@since 2023-06-13
-->

<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport"
        content="width=device-width, user-scalable=no, initial-scale=1">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Quản lý thực đơn</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
  <link rel='stylesheet prefetch' href='https://netdna.bootstrapcdn.com/font-awesome/3.2.1/css/font-awesome.css'>
</head>
<body>
<div class="container_add" *ngIf="serviceList">
  <div class="d-flex justify-content-center">
    <div class="content_add col-xl-10">
      <h2 class="title">Danh sách thực đơn</h2>
      <!--      chức năng search -->
      <h4 style="color: white">Chức năng tìm kiếm</h4>
      <table class="table">
        <tbody>
        <tr>
          <td><label for="sName">Tên món</label></td>
          <td><input #sName type="text" class="form-control" id="sName" maxlength="100" [defaultValue]="serviceName"></td>
          <td><label for="sPriceF">Giá</label></td>
          <td><input #sPriceF type="number" class="form-control" id="sPriceF" maxlength="10" [defaultValue]="priceF"></td>
          <td><input #sPriceT type="number" class="form-control" id="sPriceT" maxlength="10" [defaultValue]="priceT"></td>
        </tr>
        <tr>
          <td><label for="sType">Nhóm</label></td>
          <td><select #sType class="form-control" id="sType">
            <option value=""></option>
            <option *ngFor="let serviceType of serviceTypeList"
                    value="{{serviceType.name}}">{{serviceType.name}}</option>
          </select></td>
          <td><label for="sQuantityF">Số lượng bán ra</label></td>
          <td><input #sQuantityF type="number" class="form-control" id="sQuantityF" maxlength="10" [defaultValue]="quantityF"></td>
          <td><input #sQuantityT type="number" class="form-control" id="sQuantityT" maxlength="10" [defaultValue]="quantityT"></td>
        </tr>
        <tr>
          <td><label for="sStatus">Tình trạng</label></td>
          <td><select id="sStatus" class="form-control" #sStatus>
            <option value=""></option>
            <option *ngFor="let status of statusList" value="{{status}}">{{status}}</option>
          </select></td>
          <td><label for="sCreatedDateF">Ngày tạo</label></td>
          <td><input #sCreatedDateF type="datetime-local" class="form-control" id="sCreatedDateF" [defaultValue]="createdDateF"></td>
          <td><input #sCreatedDateT type="datetime-local" class="form-control" id="sCreatedDateT" [defaultValue]="createdDateT"></td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td><label for="sPaymentF">Doanh thu</label></td>
          <td><input #sPaymentF type="number" class="form-control" id="sPaymentF" [defaultValue]="paymentF"></td>
          <td><input #sPaymentT type="number" class="form-control" id="sPaymentT" [defaultValue]="paymentT"></td>
        </tr>
        </tbody>
      </table>
      <div class="d-flex justify-content-end">
        <button type="button" class="btn btn-secondary" (click)="resetCondition()">
          Làm mới
        </button>&nbsp;
          <button type="button" class="btn btn-success"
                  (click)="search(sName.value, sPriceF.value, sPriceT.value, sType.value, sQuantityF.value,
                  sQuantityT.value, sStatus.value, sCreatedDateF.value, sCreatedDateT.value, sPaymentF.value, sPaymentT.value)">
            Tìm kiếm
          </button>
      </div>
      <p *ngIf="dateErrorMessage" style="color: red">{{dateErrorMessage}}</p>
      <div class="card_main">
        <p style="color: white">*1: Trung bình cộng giá đã bán</p>
        <table class="table" style="border: 1px solid gray;">
          <thead>
          <tr>
            <th>STT</th>
            <th>Hình ảnh</th>
            <th>Tên món</th>
            <th>Đơn giá</th>
            <th>Loại</th>
            <th>Giá bán(*1)</th>
            <th style="cursor: pointer" (click)="sortQuantity()">Đã bán</th>
            <th>Doanh thu</th>
            <th>Trạng thái</th>
            <th class="text-center">Ngày tạo</th>
            <th></th>
          </tr>
          </thead>
          <tbody>
          <tr *ngFor="let service of serviceList; index as i">
            <td>{{i + 1}}</td>
            <td><img src="{{service.imgUrl}}" alt="" width="50px"></td>
            <td>{{service.serviceName}}</td>
            <td>{{formatCurrency(service.price)}}</td>
            <td>{{service.serviceType}}</td>
            <td>{{formatCurrency(service.salePrice)}}</td>
            <td>{{service.quantity}}</td>
            <td>{{formatCurrency(service.payment)}}</td>
            <td>
              <button
                [ngClass]="{'btn-danger': service.statusFlag == 'Vô hiệu', 'btn-success': service.statusFlag != 'Vô hiệu'}"
                class="btn" type="button" style="width: 102px" (click)="changeStatus(service.statusFlag, service.id)">
                {{service.statusFlag}}</button>
            </td>
            <td class="text-center">{{formatDate(service.createdDate)}}</td>
          </tr>
          </tbody>
          <tr *ngIf="noRecord">
            <td colspan="8">
              <h5 class="text-center validate-msg-color">Không có kết quả phù hợp</h5></td>
          </tr>
        </table>
      </div>
      <div class="row mt-5" *ngIf="totalElements" style="cursor: pointer">
        <div class="col text-center">
          <div class="block-27">
            <ul>
              <ul>
                <li>
                  <a (click)="previousPage()" [class.disabled]="currentPage === 0">&lt;</a>
                </li>
                <li *ngFor="let page of pageRange" [class.active]="page === currentPage">
                  <a (click)="goToPage(page)">{{ page + 1 }}</a>
                </li>
                <li>
                  <a (click)="nextPage()" [class.disabled]="currentPage === totalPages - 1">&gt;</a>
                </li>
              </ul>
            </ul>
          </div>
        </div>
      </div>
    </div>
  </div>
  <!--modal 1-->
  <!--    <div class="modal fade" id="modelId" tabindex="-1" role="dialog" aria-labelledby="modelTitleId"-->
  <!--         aria-hidden="true" *ngIf="feedback">-->
  <!--      <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">-->
  <!--        <div class="modal-content">-->
  <!--          <div class="d-flex justify-content-center">-->
  <!--            <h4 class="title mt-md-3" id="modelTitleId">Chi tiết phản hồi</h4>-->
  <!--          </div>-->
  <!--          <div class="row" style="width: 102%">-->
  <!--            <div class="modal-body col-6" style="flex: 0 0 auto!important; width: 50%!important;">-->
  <!--              <table style="margin-left: 10px">-->
  <!--                <tr>-->
  <!--                  <td>Người phản hồi:&nbsp;&nbsp;</td>-->
  <!--                  <td>{{feedback.name}}</td>-->
  <!--                </tr>-->
  <!--                <tr>-->
  <!--                  <td colspan="2">Nội dung phản hồi:&nbsp;&nbsp;</td>-->
  <!--                </tr>-->
  <!--                <tr>-->
  <!--                  <td class="text-white" colspan="2">-->
  <!--                    {{feedback.content}}-->
  <!--                  </td>-->
  <!--                </tr>-->
  <!--              </table>-->
  <!--            </div>-->
  <!--            <div id="carouselExampleIndicators"-->
  <!--                 class="carousel slide col-6 " data-bs-ride="carousel"-->
  <!--                 style="flex: 0 0 auto!important; width: 50%!important;justify-content: center !important;">-->
  <!--              <div class="carousel-indicators">-->
  <!--                <button *ngFor="let url of imgUrl; let i = index" type="button"-->
  <!--                        data-bs-target="#carouselExampleIndicators" [attr.data-bs-slide-to]="i" [class.active]="i === 0"-->
  <!--                        aria-current="true" [attr.aria-label]="'Slide ' + (i + 1)"></button>-->
  <!--              </div>-->
  <!--              <div class="carousel-inner">-->
  <!--                <div *ngFor="let url of imgUrl; let i = index" class="carousel-item"  [class.active]="i === 0">-->
  <!--                  <img [src]="url" alt="NoImg" style="height: 400px">-->
  <!--                </div>-->
  <!--              </div>-->
  <!--              <button class="carousel-control-prev" type="button"-->
  <!--                      data-bs-target="#carouselExampleIndicators" data-bs-slide="prev">-->
  <!--                <span class="carousel-control-prev-icon" aria-hidden="true"></span>-->
  <!--                <span class="visually-hidden">Previous</span>-->
  <!--              </button>-->
  <!--              <button class="carousel-control-next" type="button"-->
  <!--                      data-bs-target="#carouselExampleIndicators" data-bs-slide="next">-->
  <!--                <span class="carousel-control-next-icon" aria-hidden="true"></span>-->
  <!--                <span class="visually-hidden">Next</span>-->
  <!--              </button>-->
  <!--            </div>-->
  <!--          </div>-->
  <!--          <div class="modal-footer">-->
  <!--            <button type="button" class="btn_action" data-bs-dismiss="modal">-->
  <!--              Quay lại-->
  <!--            </button>-->
  <!--          </div>-->
  <!--        </div>-->
  <!--      </div>-->
  <!--    </div>-->
  <!--  </div>-->
</div>
</body>
</html>
